- type: entity
  id: EffectHollowTree
  categories: [ HideSpawnMenu ]
  components:
  - type: TimedDespawn
    lifetime: 0.4
  - type: Sprite
    drawdepth: Effects
    noRot: true
    layers:
      - shader: unshaded
        map: ["enum.EffectLayers.Unshaded"]
        sprite: /Textures/Effects/acidifier.rsi # TODO: let's see how this looks
        state: acid
  - type: EffectVisuals
  - type: Tag
    tags:
      - HideContextMenu
  - type: AnimationPlayer
  - type: EntityTableSpawner
    deleteSpawnerAfterSpawn: false
    table: !type:NestedSelector
      tableId: HollowTreeLootTable

- type: entityTable
  id: HollowTreeLootTable
  table: !type:GroupSelector
    children:
    # standard ore/wood drop
    - !type:GroupSelector
      weight: 0.5
      children:
      - !type:NestedSelector
        weight: 0.80
        tableId: RandomOreTable
      - id: Log
        weight: 0.20
        amount: !type:RangeNumberSelector
          range: 1, 4

    # beneficial effects
    - !type:GroupSelector
      weight: 0.135
      children:
      - id: ShardCrystalBlack
        amount: !type:RangeNumberSelector
          range: 1, 3
      - id: ShardCrystalPink
        amount: !type:RangeNumberSelector
          range: 1, 3

    - !type:GroupSelector
      weight: 0.09
      children:
      - id: FoodPumpkin
      - id: FoodAmbrosiaVulgaris
      - id: FoodMushroom
      - id: FoodMimana
        weight: 0.1
      - id: FoodFlyAmanita
        weight: 0.1

    # dubious/benign effects
    - id: HollowTreeRandomPuddle
      weight: 0.06

    - id: ShadowKudzuWeak
      weight: 0.06

    - !type:GroupSelector
      weight: 0.03
      children:
      - id: MobCockroach
        weight: 0.9
        amount: !type:RangeNumberSelector
          range: 2, 3
      - id: MobCockroach
        weight: 0.1
        amount: !type:RangeNumberSelector
          range: 5, 6

    - !type:GroupSelector
      weight: 0.03
      children:
      - !type:AllSelector
        children:
        - id: PuddleBlood
        - !type:NestedSelector
          rolls: !type:RangeNumberSelector
            range: 1, 2
          tableId: RandomHumanOrganTable
      - !type:AllSelector
        children:
        - id: PuddleBlood
        - !type:NestedSelector
          rolls: !type:RangeNumberSelector
            range: 1, 2
          tableId: RandomAnimalOrganTable

    - !type:GroupSelector
      weight: 0.005
      children:
      - id: MobRandomScienceCorpse
      - id: MobRandomEngineerCorpse
      - id: MobRandomCargoCorpse

    # dangerous effects
    - id: Kudzu
      weight: 0.03

    - id: MobSpawnCharonicSlime
      weight: 0.02

    - !type:GroupSelector
      weight: 0.006
      children:
      - id: ComplexXenoArtifact
      - id: ComplexXenoArtifactItem
        weight: 0.3

    - !type:GroupSelector
      weight: 0.004
      children:
      - id: AnomalyShadow
      - id: AnomalyFlora
        weight: 0.2

- type: entity
  id: HollowTreeRandomPuddle
  parent: PuddleTemporary
  suffix: Random, Hollow Tree
  components:
  - type: RandomFillSolution
    solution: puddle
    weightedRandomId: RandomFillPuddleHollowTree

- type: weightedRandomFillSolution
  id: RandomFillPuddleHollowTree
  fills:
  - quantity: 60
    weight: 1
    reagents:
    - Blood
    - Oil
    - InsectBlood
    - Aluminium
    - VentCrud
    - Ammonia
  - quantity: 20
    weight: 1
    reagents:
    - Plasma
    - Stellibinin
    - ChloralHydrate
    - MuteToxin
  - quantity: 10
    weight: 1
    reagents:
    - Lead
    - Necrosol
    - Opporozidone
